{% extends 'list/base.html' %}
{% load static %}

{% block title %}
    List
{% endblock title %}

{% block content %}

    {% if list %}

        <h2>{{list.name}}</h2>
        {% if list_tasks %}
        <div id="tasks">
            {% for task in list_tasks %}
                <div class="task">
                    <div name="{{task.id}}">
                        {% if task.done %}
                            <input type="checkbox" checked="true" class="task-checkbox"/>
                        {% else %}
                            <input type="checkbox" class="task-checkbox"/>
                        {% endif %}
                    </div>
                    <input name="{{task.id}}" value="{{task}}" class="task-content-input"/>
                    <a name="delete" href="{% url 'list:delete_task' task_id=task.id %}" class="btn btn-warning delete-link">Delete Task</a>
                    
                </div>
            {% endfor %}
        {% else %}
            <p>No Tasks</p>
        
        {% endif %}

        
        <form method="post" class="add-task-form">
            <h4>Add a Task</h4>
            {% csrf_token %}
            {{task_form}}
            <button type="submit" class="btn btn-secondary">Add Task</button>
        </form>

        <a href="{% url 'list:delete_list' list_id=list.id%}" class="btn btn-danger">Delete List</a>
    
    {% else %}
        <h3>No List</h3>
    {% endif %}
<script src="{% static 'js/list/checkTask.js' %}" type="text/javascript" ></script>

{% endblock content %}